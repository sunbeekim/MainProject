CREATE TABLE Products (
    id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    product_code VARCHAR(36) NOT NULL UNIQUE,
    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    price INT NOT NULL,
    email VARCHAR(255) NOT NULL,  -- Users 테이블 참조 (FK)
    category_id BIGINT NOT NULL,  -- categories 테이블 참조 (FK)
    transaction_type ENUM('대면', '비대면') NOT NULL,
    registration_type ENUM('구매', '판매',"구매 요청", "판매 요청") NOT NULL,  -- (구매 요청, 판매 요청 추가)
    latitude DOUBLE NULL,  -- 거래 장소 위도 (대면일 경우 필수)
    longitude DOUBLE NULL, -- 거래 장소 경도 (대면일 경우 필수)
    meeting_place VARCHAR(255) NULL, -- 거래 장소명 (대면일 경우 필수)
    image_path VARCHAR(500) NOT NULL,  -- 이미지 파일 경로 또는 URL
    address VARCHAR(255) NULL, -- 거래 장소 주소 (선택적)
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (email) REFERENCES Users(email) ON DELETE CASCADE,
    FOREIGN KEY (category_id) REFERENCES categories(category_id) ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;